var ie=Object.defineProperty;var Y=s=>{throw TypeError(s)};var ae=(s,e,r)=>e in s?ie(s,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[e]=r;var F=(s,e,r)=>ae(s,typeof e!="symbol"?e+"":e,r),C=(s,e,r)=>e.has(s)||Y("Cannot "+r);var i=(s,e,r)=>(C(s,e,"read from private field"),r?r.call(s):e.get(s)),_=(s,e,r)=>e.has(s)?Y("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,r),K=(s,e,r,t)=>(C(s,e,"write to private field"),t?t.call(s,r):e.set(s,r),r);import{D as $,F as fe,G as x,H as ue,q as j,I as q,h as R,A as ce,J as oe,K as le,L as J,b as Q,M as V,N as de,O as pe,P as he,C as _e,Q as G,R as ve,S as be,U as H,V as Se,W as me,X as Pe,i as g,Y as W,y as N,Z as we,_ as D,$ as ge,a0 as X,a1 as ye,a2 as Oe,k as Ae,a3 as Ee,a4 as Z,a5 as z,a6 as Re,e as Ie,a7 as Te,a8 as xe,a9 as De,aa as w,ab as k,ac as ee,ad as Me,ae as Ne}from"./DS7VdxVw.js";var d,p,l,v,y,O,I;class se{constructor(e,r=!0){F(this,"anchor");_(this,d,new Map);_(this,p,new Map);_(this,l,new Map);_(this,v,new Set);_(this,y,!0);_(this,O,()=>{var e=$;if(i(this,d).has(e)){var r=i(this,d).get(e),t=i(this,p).get(r);if(t)fe(t),i(this,v).delete(r);else{var n=i(this,l).get(r);n&&(i(this,p).set(r,n.effect),i(this,l).delete(r),n.fragment.lastChild.remove(),this.anchor.before(n.fragment),t=n.effect)}for(const[a,u]of i(this,d)){if(i(this,d).delete(a),a===e)break;const f=i(this,l).get(u);f&&(x(f.effect),i(this,l).delete(u))}for(const[a,u]of i(this,p)){if(a===r||i(this,v).has(a))continue;const f=()=>{if(Array.from(i(this,d).values()).includes(a)){var h=document.createDocumentFragment();oe(u,h),h.append(j()),i(this,l).set(a,{effect:u,fragment:h})}else x(u);i(this,v).delete(a),i(this,p).delete(a)};i(this,y)||!t?(i(this,v).add(a),ue(u,f,!1)):f()}}});_(this,I,e=>{i(this,d).delete(e);const r=Array.from(i(this,d).values());for(const[t,n]of i(this,l))r.includes(t)||(x(n.effect),i(this,l).delete(t))});this.anchor=e,K(this,y,r)}ensure(e,r){var t=$,n=le();if(r&&!i(this,p).has(e)&&!i(this,l).has(e))if(n){var a=document.createDocumentFragment(),u=j();a.append(u),i(this,l).set(e,{effect:q(()=>r(u)),fragment:a})}else i(this,p).set(e,q(()=>r(this.anchor)));if(i(this,d).set(t,e),n){for(const[f,c]of i(this,p))f===e?t.skipped_effects.delete(c):t.skipped_effects.add(c);for(const[f,c]of i(this,l))f===e?t.skipped_effects.delete(c.effect):t.skipped_effects.add(c.effect);t.oncommit(i(this,O)),t.ondiscard(i(this,I))}else R&&(this.anchor=ce),i(this,O).call(this)}}d=new WeakMap,p=new WeakMap,l=new WeakMap,v=new WeakMap,y=new WeakMap,O=new WeakMap,I=new WeakMap;function Ke(s,e,r=!1){R&&Q();var t=new se(s),n=r?V:0;function a(u,f){if(R){const h=de(s)===pe;if(u===h){var c=he();_e(c),t.anchor=c,G(!1),t.ensure(u,f),G(!0);return}}t.ensure(u,f)}J(()=>{var u=!1;e((f,c=!0)=>{u=!0,a(c,f)}),u||a(!1,null)},n)}function $e(s,e,r){R&&Q();var t=new se(s);J(()=>{var n=e()??null;t.ensure(n,n&&(a=>r(a,n)))},V)}let E=!1,M=Symbol();function je(s,e,r){const t=r[e]??(r[e]={store:null,source:Se(void 0),unsubscribe:H});if(t.store!==s&&!(M in r))if(t.unsubscribe(),t.store=s??null,s==null)t.source.v=void 0,t.unsubscribe=H;else{var n=!0;t.unsubscribe=me(s,a=>{n?t.source.v=a:W(t.source,a)}),n=!1}return s&&M in r?Pe(s):g(t.source)}function qe(){const s={};function e(){ve(()=>{for(var r in s)s[r].unsubscribe();be(s,M,{enumerable:!1,value:!0})})}return[s,e]}function Le(s){var e=E;try{return E=!1,[s(),E]}finally{E=e}}const Be={get(s,e){if(!s.exclude.includes(e))return g(s.version),e in s.special?s.special[e]():s.props[e]},set(s,e,r){if(!(e in s.special)){var t=N;try{z(s.parent_effect),s.special[e]=Ye({get[e](){return s.props[e]}},e,X)}finally{z(t)}}return s.special[e](r),Z(s.version),!0},getOwnPropertyDescriptor(s,e){if(!s.exclude.includes(e)&&e in s.props)return{enumerable:!0,configurable:!0,value:s.props[e]}},deleteProperty(s,e){return s.exclude.includes(e)||(s.exclude.push(e),Z(s.version)),!0},has(s,e){return s.exclude.includes(e)?!1:e in s.props},ownKeys(s){return Reflect.ownKeys(s.props).filter(e=>!s.exclude.includes(e))}};function Ge(s,e){return new Proxy({props:s,exclude:e,special:{},version:we(0),parent_effect:N},Be)}const Ue={get(s,e){let r=s.props.length;for(;r--;){let t=s.props[r];if(w(t)&&(t=t()),typeof t=="object"&&t!==null&&e in t)return t[e]}},set(s,e,r){let t=s.props.length;for(;t--;){let n=s.props[t];w(n)&&(n=n());const a=D(n,e);if(a&&a.set)return a.set(r),!0}return!1},getOwnPropertyDescriptor(s,e){let r=s.props.length;for(;r--;){let t=s.props[r];if(w(t)&&(t=t()),typeof t=="object"&&t!==null&&e in t){const n=D(t,e);return n&&!n.configurable&&(n.configurable=!0),n}}},has(s,e){if(e===k||e===ee)return!1;for(let r of s.props)if(w(r)&&(r=r()),r!=null&&e in r)return!0;return!1},ownKeys(s){const e=[];for(let r of s.props)if(w(r)&&(r=r()),!!r){for(const t in r)e.includes(t)||e.push(t);for(const t of Object.getOwnPropertySymbols(r))e.includes(t)||e.push(t)}return e}};function He(...s){return new Proxy({props:s},Ue)}function Ye(s,e,r,t){var B;var n=!Te||(r&xe)!==0,a=(r&Re)!==0,u=(r&Me)!==0,f=t,c=!0,h=()=>(c&&(c=!1,f=u?Ie(t):t),f),S;if(a){var re=k in s||ee in s;S=((B=D(s,e))==null?void 0:B.set)??(re&&e in s?o=>s[e]=o:void 0)}var m,L=!1;a?[m,L]=Le(()=>s[e]):m=s[e],m===void 0&&t!==void 0&&(m=h(),S&&(n&&ge(),S(m)));var b;if(n?b=()=>{var o=s[e];return o===void 0?h():(c=!0,o)}:b=()=>{var o=s[e];return o!==void 0&&(f=void 0),o===void 0?f:o},n&&(r&X)===0)return b;if(S){var te=s.$$legacy;return(function(o,A){return arguments.length>0?((!n||!A||te||L)&&S(A?b():o),o):b()})}var T=!1,P=((r&De)!==0?Ae:Ee)(()=>(T=!1,b()));a&&g(P);var ne=N;return(function(o,A){if(arguments.length>0){const U=A?g(P):n&&a?ye(o):o;return W(P,U),T=!0,f!==void 0&&(f=U),o}return Ne&&T||(ne.f&Oe)!==0?P.v:g(P)})}export{se as B,qe as a,je as b,$e as c,Ke as i,Ge as l,Ye as p,He as s};
